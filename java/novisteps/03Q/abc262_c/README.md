# Main01
nを読み込み、int[] aryを読み込む。
ans=0を用意し、iを1からnまでループする。
i==ary[i]のとき、jをi+1からnまでループし、i==min && j==maxとなる場合ans++する。
それ以外のとき、a=ary[i]を入れ、i<a && i==ary[a]のときans++する。
ループが終了したら、ansを出力する。
TLE4個。

# Main
Main01を元に、jのループがネックなので、事前に累積和を計算する。
int[] sumを用意し、i==ary[i]のときsum[i]++を入れ、i<nのときsum[i]+=sum[i+1]を入れる。
iのループで、i==ary[i]のとき、i<nに絞り、ans+=sum[i+1]を加える。

解説を読んで、ai=iの個数がk個の場合k(k-1)/2ということだが、
右端から累積和を計算すると、右から1+2+3+・・・+k-1となるので、ループするとTLEになるはずだ。

